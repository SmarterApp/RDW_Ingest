package org.opentestsystem.rdw.ingest.service;

import org.opentestsystem.rdw.ingest.common.model.ImportContent;

/**
 * Abstraction for injecting a payload into the message queue.
 */
interface ImportSource {

    /**
     * Submit the given payload to the appropriate queue, based on content.
     *
     * @param body content body
     * @param content {@link ImportContent}
     * @param contentType content media type of body, e.g. "text/plain"
     * @param importId id of import resource associated with this content
     */
    void submitContent(byte[] body, ImportContent content, String contentType, Long importId);

    /**
     * Submit the given import for deletion.
     *
     * @param importId          The processing import id
     * @param deletedImportId   The import id to delete
     * @param content           The import content type
     */
    void submitDelete(long importId, long deletedImportId, ImportContent content);
}
