package org.opentestsystem.rdw.ingest.service;

/**
 * A service for reading from and writing to resource in an archive.
 * <p>
 * This is very specific to the needs of the import service: the payloads are expected to
 * be not-large, and there is a hash id that can be used to partition the resources.
 * </p>
 */
public interface ArchiveService {

    /**
     * Write the resource using the given digest as the unique id.
     *
     * @param location unique (relative) location for content, e.g. "EXAM/4F/0A/4F0A1245"
     * @param content content
     * @param contentType optional content media type, e.g. "text/plain"
     */
    void writeResource(String location, String content, String contentType);

    /**
     * Read a resource identified by the unique id.
     *
     * @param location unique (relative) location for content, e.g. "EXAM/4F/0A/4F0A1245"
     * @return content, null if not found
     */
    String readResource(String location);
}
