package org.opentestsystem.rdw.ingest.script;

/**
 * ScriptSource is an interface for loading pipeline definitions and individual script source files.
 */
public interface ScriptSource {
    /**
     * Loads the code for the script base class. This class should extend from PipelineScript and implement
     * its abstract methods.
     *
     * @return the code for the base class as a String
     */
    String loadScriptBaseClass();

    /**
     * Loads a pipeline definition given its name and version.
     *
     * @param pipelineName the unique name for the pipeline to load
     * @param pipelineVersion the version of the pipeline definition to load
     *
     * @return the pipeline as a PipelineDefinition
     */
    PipelineDefinition loadPipelineDefinition(String pipelineName, String pipelineVersion);

    /**
     * Loads the script code and configuration properties and adds them to the given script defintion.
     *
     * @param nodeDefinition defines the node for which to load the script
     *
     * @return returns the passed in ScriptDefinition enhanced to include script code and config.
     */
    ScriptInfo loadScript(VersionedResource nodeDefinition);
}
