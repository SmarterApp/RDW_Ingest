package org.opentestsystem.rdw.ingest.model;

import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;

public class RdwImportTest {

    @Test
    public void itShouldRetainBuilderValues() {
        final RdwImport rdwImport = RdwImport.builder()
                .batch("batch")
                .status(ImportStatus.ACCEPTED)
                .content(ImportContent.EXAM)
                .contentType("application/xml")
                .creator("alice")
                .message("message")
                .build();
        assertThat(rdwImport.getId()).isNull();
        assertThat(rdwImport.getBatch()).isEqualTo("batch");
        assertThat(rdwImport.getStatus()).isEqualTo(ImportStatus.ACCEPTED);
        assertThat(rdwImport.getContent()).isEqualTo(ImportContent.EXAM);
        assertThat(rdwImport.getContentType()).isEqualTo("application/xml");
        assertThat(rdwImport.getCreator()).isEqualTo("alice");
        assertThat(rdwImport.getMessage()).isEqualTo("message");
    }

    @Test
    public void itShouldDefaultACreatedValue() {
        assertThat(RdwImport.builder().build().getCreated()).isNotNull();
    }
}
