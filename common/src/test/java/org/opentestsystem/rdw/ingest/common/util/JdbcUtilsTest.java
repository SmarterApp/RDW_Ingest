package org.opentestsystem.rdw.ingest.common.util;

import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;
import static org.opentestsystem.rdw.ingest.common.repository.JdbcUtils.stringToText;

public class JdbcUtilsTest {

    @Test
    public void itShouldTruncateSafely() {
        assertThat(stringToText(null, 10)).isNull();
        assertThat(stringToText("", 10)).isEqualTo("");
        assertThat(stringToText("abcdefghikjlmnopqr", 10)).isEqualTo("abcdefghik");
        assertThat(stringToText("ÞÞÞÞÞÞÞÞÞÞÞ", 10)).isEqualTo("ÞÞÞÞÞ");
        assertThat(stringToText("abcÞÞÞÞÞÞÞÞ", 10)).isEqualTo("abcÞÞÞ");
    }
}
