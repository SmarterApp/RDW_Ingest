package org.opentestsystem.rdw.ingest.model;

import org.junit.Test;
import org.springframework.http.MediaType;

import static org.assertj.core.api.Assertions.assertThat;

public class RdwImportTest {

    @Test
    public void itShouldRetainBuilderValues() {
        final RdwImport rdwImport = RdwImport.builder()
                .batch("batch")
                .status(ImportStatus.ACCEPTED)
                .content(ImportContent.EXAM)
                .contentType(MediaType.APPLICATION_XML_VALUE)
                .creator("alice")
                .message("message")
                .build();
        assertThat(rdwImport.getId()).isNull();
        assertThat(rdwImport.getBatch()).isEqualTo("batch");
        assertThat(rdwImport.getStatus()).isEqualTo(ImportStatus.ACCEPTED);
        assertThat(rdwImport.getContent()).isEqualTo(ImportContent.EXAM);
        assertThat(rdwImport.getContentType()).isEqualTo(MediaType.APPLICATION_XML_VALUE);
        assertThat(rdwImport.getCreator()).isEqualTo("alice");
        assertThat(rdwImport.getMessage()).isEqualTo("message");
    }

    @Test
    public void itShouldDefaultACreatedValue() {
        assertThat(RdwImport.builder().build().getCreated()).isNotNull();
    }
}
