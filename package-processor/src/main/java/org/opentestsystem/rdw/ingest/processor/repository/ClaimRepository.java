package org.opentestsystem.rdw.ingest.processor.repository;

import java.util.Set;

/**
 * Repository for dealing with organizational claims.
 */
public interface ClaimRepository {
    /**
     * Finds an id of the organizational claim by its code
     *
     * @param subjectId The subject id
     * @param code      the code of the claim
     * @return the id, null if code not found
     */
    Integer findIdByCode(int subjectId, String code);

    /**
     * Retrieve the organizational claims for a given subject
     *
     * @param subjectCode A subject code
     * @return  The claims for the given subject
     */
    Set<String> findCodesBySubject(String subjectCode);

    /**
     * Create a new organizational claim for the given subject.
     *
     * @param subjectCode   A subject code
     * @param claimCode     A claim code
     */
    void create(String subjectCode, String claimCode);

    /**
     * Delete a claim for the given subject.
     *
     * @param subjectCode   A subject code
     * @param claimCode     A claim code
     */
    void delete(String subjectCode, String claimCode);

    /**
     * Test if a claim has associated assessment items.
     *
     * @param subjectCode   A subject code
     * @param claimCode     A claim code
     * @return True if the claim is associated with assessment items
     */
    boolean isReferenced(String subjectCode, String claimCode);
}
