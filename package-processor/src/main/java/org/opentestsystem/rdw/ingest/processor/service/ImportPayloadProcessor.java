package org.opentestsystem.rdw.ingest.processor.service;

import org.opentestsystem.rdw.common.model.ImportException;

/**
 * A processor for an import payload
 */
public interface ImportPayloadProcessor {

    /**
     * This method constructs an assessment that has just the updated parts so the repository can efficiently update an existing assessment.
     * Yes, it has deep knowledge of how the repository works and the efficiency logic is mostly here not in the repository.
     *
     * @param payload  the payload to process
     * @param importId id of the import
     * @return process message, included in import record
     * @throws ImportException if any errors during processing
     */
    String process(byte[] payload, long importId) throws ImportException;
}
