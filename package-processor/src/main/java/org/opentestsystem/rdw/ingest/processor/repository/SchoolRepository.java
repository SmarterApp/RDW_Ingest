package org.opentestsystem.rdw.ingest.processor.repository;

import org.opentestsystem.rdw.ingest.common.model.School;

import java.util.Collection;

/**
 * Repository for managing {@link School}
 */
public interface SchoolRepository {
    /**
     * Upsert a collection of schools.<br/>
     * Based on natural id it will insert a new school or update an existing one. If the school
     * already exists with the same data no writes will occur and the id will be set.
     * The same logic is applied to the embedded ancestors (district, district group, school group).
     *
     * @param schools schools to upsert
     * @param importId import id to associate with any change.
     */
    void upsert(Collection<School> schools, long importId);
}
