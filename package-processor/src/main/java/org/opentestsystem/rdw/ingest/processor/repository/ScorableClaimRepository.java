package org.opentestsystem.rdw.ingest.processor.repository;

import org.opentestsystem.rdw.ingest.processor.model.WarehouseScorableClaim;

import java.util.Collection;

/**
 * This repository is responsible for working with scorable claims.
 */
public interface ScorableClaimRepository {

    /**
     * Return the existing scorable claims for the given subject.
     *
     * @param subjectCode A subject code
     * @return the scorable claims or empty collection if none exist
     */
    Collection<WarehouseScorableClaim> findBySubject(String subjectCode);

    /**
     * Create the given scorable claims in the repository.
     *
     * @param subjectCode   A subject code
     * @param claims        The scorable claims to create
     */
    void create(String subjectCode, Collection<WarehouseScorableClaim> claims);

    /**
     * Update the display order of the given scorable claims in the repository.
     *
     * @param claims    The scorable claims to update
     */
    void update(Collection<WarehouseScorableClaim> claims);

    /**
     * Delete the given scorable claims from the repository.
     *
     * @param claimIds  The claim ids to delete
     */
    void delete(Collection<Integer> claimIds);

    /**
     * Test if any of the scorable claims referenced by any assessment.
     *
     * @param claimIds The claim ids to test
     * @return The first claim id that is reference by an assessment
     */
    Integer isReferenced(Collection<Integer> claimIds);
}
