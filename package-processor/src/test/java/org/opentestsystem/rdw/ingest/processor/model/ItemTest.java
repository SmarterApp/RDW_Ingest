package org.opentestsystem.rdw.ingest.processor.model;

import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;

/**
 * Unit test for Item class
 */
public class ItemTest {
    @Test
    public void itShouldCompareItems() {
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .targetId(1)
                .allowCalculator(true)
                .difficulty(1.5)
                .dok(1)
                .mathPractice(3)
                .maxPoints(2.0);

        final Item item = builder.build();
        final Item sameItem = builder.build();

        assertThat(item).isEqualTo(sameItem);
        assertThat(item.hashCode()).isEqualTo(sameItem.hashCode());

        assertThat(sameItem).isNotEqualTo(null);

        Item otherItem = builder.naturalId("new key").build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.allowCalculator(false).build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.difficulty(0.1).naturalId("new key").build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.dok(9).naturalId("new key").build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.mathPractice(null).build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());
    }

    @Test(expected = NullPointerException.class)
    public void itShouldNotAllowNullDokParameter(){
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .targetId(1)
                .allowCalculator(true)
                .difficulty(1.5)
                .maxPoints(1.0)
                .mathPractice(3);

        Item item = builder.build();
    }

    @Test(expected = NullPointerException.class)
    public void itShouldNotAllowNullClaimIdParameter(){
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .targetId(1)
                .dok(1)
                .allowCalculator(true)
                .difficulty(1.5)
                .maxPoints(1.0)
                .mathPractice(3);

        Item item = builder.build();
    }

    @Test(expected = NullPointerException.class)
    public void itShouldNotAllowNullTargetIdParameter(){
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .dok(1)
                .allowCalculator(true)
                .difficulty(1.5)
                .maxPoints(1.0)
                .mathPractice(3);

        Item item = builder.build();
    }

    @Test(expected = NullPointerException.class)
    public void itShouldNotAllowNullDifficultyParameter(){
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .dok(1)
                .targetId(1)
                .allowCalculator(true)
                .mathPractice(3)
                .maxPoints(1.0);

        Item item = builder.build();
    }

    @Test(expected = NullPointerException.class)
    public void itShouldNotAllowNullMaxPointsParameter(){
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .dok(1)
                .targetId(1)
                .allowCalculator(true)
                .difficulty(1.5)
                .mathPractice(3);

        Item item = builder.build();
    }

    @Test
    public void itShouldAllowNullMathPracticeParameter() {
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .dok(1)
                .targetId(1)
                .allowCalculator(true)
                .difficulty(1.5)
                .maxPoints(2.0);

        final Item item = builder.build();
    }

    @Test
    public void itShouldAllowNullAllowCalculatorParameter() {
        final Item.Builder builder = Item.builder()
                .naturalId("ItemId")
                .assessmentNaturalId("AssessmentId")
                .claimId(1)
                .dok(1)
                .targetId(1)
                .mathPractice(1)
                .difficulty(1.5)
                .maxPoints(2.0);

        final Item item = builder.build();
    }


}
