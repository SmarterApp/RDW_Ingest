package org.opentestsystem.rdw.ingest.processor.model;

import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;

/**
 * Unit test for Item class
 */
public class ItemTest {
    @Test
    public void itShouldCompareAssessments() {
        final Item.Builder builder = Item.builder()
                .withItemKey("ItemId")
                .withClaimCode("Claim")
                .withTarget("Target")
                .withAllowCalculator(true)
                .withDifficulty(1.5f)
                .withDOK(1)
                .withMathPractice(3);

        final Item item = builder.build();
        final Item sameItem = builder.build();

        assertThat(item).isEqualTo(sameItem);
        assertThat(item.hashCode()).isEqualTo(sameItem.hashCode());

        assertThat(sameItem).isNotEqualTo(null);

        Item otherItem = builder.withItemKey("new key").build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.withAllowCalculator(false).build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.withDifficulty(null).withItemKey("new key").build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());

        otherItem = builder.withDOK(null).withItemKey("new key").build();
        assertThat(item).isNotEqualTo(otherItem);
        assertThat(item.hashCode()).isNotEqualTo(otherItem.hashCode());
    }
}
