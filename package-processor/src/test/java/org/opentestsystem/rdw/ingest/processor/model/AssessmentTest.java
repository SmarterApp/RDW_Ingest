package org.opentestsystem.rdw.ingest.processor.model;

import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;

/**
 * Unit test for the Assessment model
 */
public class AssessmentTest {
    @Test
    public void itShouldCompareAssessments() {
        final Assessment.Builder builder = Assessment.builder()
                                                .withName("name")
                                                .withNaturalId("id")
                                                .withAcademicYear(2017)
                                                .withGrade("grade")
                                                .withLabel("label")
                                                .withSubject("subject")
                                                .withType("type")
                                                .withVersion("version");

        final Assessment assessment = builder.build();
        final Assessment sameAssessment = builder.build();

        assertThat(assessment).isEqualTo(sameAssessment);
        assertThat(assessment.hashCode()).isEqualTo(sameAssessment.hashCode());

        assertThat(sameAssessment).isNotEqualTo(null);

        Assessment otherAssessment = builder.withName("new name").build();
        assertThat(assessment).isNotEqualTo(otherAssessment);
        assertThat(assessment.hashCode()).isNotEqualTo(otherAssessment.hashCode());

        otherAssessment = builder.withName("name").withNaturalId("new id").build();
        assertThat(assessment).isNotEqualTo(otherAssessment);
        assertThat(assessment.hashCode()).isNotEqualTo(otherAssessment.hashCode());

        otherAssessment = builder.withNaturalId("id").withAcademicYear(2000).build();
        assertThat(assessment).isNotEqualTo(otherAssessment);
        assertThat(assessment.hashCode()).isNotEqualTo(otherAssessment.hashCode());
    }
}
