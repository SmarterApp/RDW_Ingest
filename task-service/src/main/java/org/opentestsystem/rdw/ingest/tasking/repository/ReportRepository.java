package org.opentestsystem.rdw.ingest.tasking.repository;

import org.opentestsystem.rdw.ingest.common.model.RdwImportQuery;
import org.opentestsystem.rdw.ingest.tasking.model.ReconciliationReport;

/**
 * Source of reports.
 */
public interface ReportRepository {
    /**
     * Return a reconciliation report for exam imports matching the query parameters.
     * Note that query content is ignored, only EXAM content is queried.
     *
     * @param query import query
     * @return reconciliation report
     */
    ReconciliationReport getReconciliationReport(RdwImportQuery query);

    /**
     * Return count of exam import records matching the query parameters.
     * Note that query content and status are ignored; EXAM content of any status is queried.
     *
     * @param query import query
     * @return number of import records matching the query
     */
    long countExamImports(RdwImportQuery query);

    /**
     * @return return true if repository is available to get reports
     */
    boolean isAvailable();
}