package org.opentestsystem.rdw.ingest.migrate.reporting.repository;

import org.opentestsystem.rdw.ingest.common.model.ImportContent;

import java.util.List;
import java.util.Map;
import java.util.Set;

public interface WarehouseToStageRepository {
    List<Map<String, Object>> findWarehouseSubjects();

    List<Map<String, Object>> findReportingSubjects();

    List<Map<String, Object>> findWarehouseAsmtTypes();

    List<Map<String, Object>> findReportingAsmtTypes();

    List<Map<String, Object>> findWarehouseSubjectClaimScores();

    List<Map<String, Object>> findReportingSubjectClaimScores();

    void truncateStaging(Iterable<String> stagingTruncateStatements);

    /**
     * Find the content types in this range if import id's.
     *
     * @param fistImportId First import id of the batch.
     * @param lastImportId Last import id of the batch.
     * @return distinct {@link Set} of {@link ImportContent} in the range including first and last.
     * May be empty.
     */
    Set<ImportContent> findDistinctImportContentInRange(Long fistImportId, Long lastImportId);
}
