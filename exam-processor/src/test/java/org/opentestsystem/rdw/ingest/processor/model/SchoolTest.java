package org.opentestsystem.rdw.ingest.processor.model;

import org.junit.Test;

import static org.assertj.core.api.Assertions.assertThat;

public class SchoolTest {

    @Test
    public void itShouldCompareSchool() {
        final District district = District.builder().withName("district").withNaturalId("district id").withStateCode("code").build();
        final School.Builder builder = School.builder().withName("school").withNaturalId("school id").withDistrict(district);

        final School school = builder.build();
        final School sameSchool = builder.build();

        assertThat(school).isEqualTo(sameSchool);
        assertThat(school.hashCode()).isEqualTo(sameSchool.hashCode());

        assertThat(builder.build()).isNotEqualTo(null);

        School diffSchool = builder.withName("new name").build();
        assertThat(school).isNotEqualTo(diffSchool);
        assertThat(school.hashCode()).isNotEqualTo(diffSchool.hashCode());

        diffSchool = builder.withName("school").withNaturalId("new id").build();
        assertThat(school).isNotEqualTo(diffSchool);
        assertThat(school.hashCode()).isNotEqualTo(diffSchool.hashCode());

        diffSchool = builder.withNaturalId("school id").withDistrict(District.builder().withName("district 1").withNaturalId("district id").withStateCode("code").build()).build();
        assertThat(school).isNotEqualTo(diffSchool);
        assertThat(school.hashCode()).isNotEqualTo(diffSchool.hashCode());
    }
}