package org.opentestsystem.rdw.ingest.processor.service;

import org.opentestsystem.rdw.common.model.trt.TDSReport;
import org.opentestsystem.rdw.ingest.common.model.ImportException;

/**
 * An interface for parsing, validating and persisting TDS Report
 */
public interface TDSReportProcessor {

    /**
     * Process the given {@link TDSReport} as an upsert
     *
     * @param report   the report to process
     * @param importId the import id from the import request
     * @throws ImportException if the report was not fully processed
     */
    void processUpsert(TDSReport report, long importId) throws ImportException;

    /**
     * Delete the Exam record created by the Import to be deleted.
     *
     * @param deletedImportId   The import id to be deleted
     * @param importId          The processing import id
     * @throws ImportException  if there is a problem processing the request
     */
    void processDelete(long deletedImportId, long importId) throws ImportException;
}
