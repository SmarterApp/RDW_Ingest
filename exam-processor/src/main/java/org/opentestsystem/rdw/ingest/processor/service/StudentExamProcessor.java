package org.opentestsystem.rdw.ingest.processor.service;


import org.opentestsystem.rdw.common.model.trt.TDSReport;
import org.opentestsystem.rdw.common.model.trt.Test;
import org.opentestsystem.rdw.common.model.ImportException;
import org.opentestsystem.rdw.ingest.processor.model.Assessment;
import org.opentestsystem.rdw.ingest.processor.model.Exam;
import org.opentestsystem.rdw.utils.DataElementErrorCollector;

/**
 * An interface responsible for parsing and validating an exam related data
 */
public interface StudentExamProcessor {

    /**
     * Parses an {@link Exam} from the given data
     *
     * @param report     the {@link Test}
     * @param schoolId   the school id
     * @param assessment the {@link Assessment} that defines the given test
     * @param errorCollector the {@link DataElementErrorCollector} to store any parsing/validation error
     * @throws ImportException in case of the parsing or validation error
     */
    Exam parseExam(TDSReport report, int schoolId, Assessment assessment, DataElementErrorCollector errorCollector
) throws ImportException;
}
