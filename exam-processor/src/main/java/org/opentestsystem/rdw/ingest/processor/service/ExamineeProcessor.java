package org.opentestsystem.rdw.ingest.processor.service;


import org.opentestsystem.rdw.ingest.model.ImportException;
import org.opentestsystem.rdw.ingest.processor.model.District;
import org.opentestsystem.rdw.ingest.processor.model.School;
import org.opentestsystem.rdw.ingest.processor.model.Student;
import org.opentestsystem.rdw.ingest.processor.model.StudentExamAttributes;
import org.opentestsystem.rdw.model.Examinee;

/**
 * An interface responsible for processing {@link Examinee}.
 * It includes data for {@link School}, {@link District}, {@link Student}, and {@link StudentExamAttributes}
 */
public interface ExamineeProcessor {

    /**
     * Processes the {@link Examinee}.
     * This includes:
     * - saving the given school
     * - parsing {@link Student} and {@link StudentExamAttributes}
     * - saving the parsed out {@link Student}
     *
     * @param examinee the {@link Examinee} to be process
     * @param school   the {@link School}
     * @return the parsed {@link StudentExamAttributes}
     * @throws ImportException
     */
    StudentExamAttributes process(Examinee examinee, School school) throws ImportException;

    /**
     * Parses {@link School} from the {@link Examinee}
     *
     * @param examinee the {@link Examinee} to be parsed
     * @return the {@link School}
     * @throws ImportException
     */
    School parseExamineeRelationship(Examinee examinee) throws ImportException;
}
