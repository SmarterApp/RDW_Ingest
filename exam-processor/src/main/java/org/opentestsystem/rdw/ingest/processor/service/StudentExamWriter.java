package org.opentestsystem.rdw.ingest.processor.service;


import org.opentestsystem.rdw.ingest.processor.model.Exam;
import org.opentestsystem.rdw.ingest.processor.model.Student;

/**
 * An interface for persisting an exam with its related data
 */
public interface StudentExamWriter {

    /**
     * Save the given {@link Exam} and {@link Student}.
     * If either does not yet exist it is created, otherwise the existing
     * value is updated.
     *
     * @param exam     the {@link Exam}
     * @param student  the {@link Student}
     * @param importId the import id associated with the exam
     */
    void upsert(Student student, Exam exam, long importId);

    /**
     * Delete the exam created by the deleted import id.
     *
     * @param deletedImportId   The deleted import id
     * @param importId          The processing import id
     */
    void delete(long deletedImportId, long importId);
}
