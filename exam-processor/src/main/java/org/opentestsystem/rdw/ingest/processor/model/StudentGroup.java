package org.opentestsystem.rdw.ingest.processor.model;

import com.mysql.jdbc.StringUtils;

import java.time.Instant;

import static com.google.common.base.Preconditions.checkArgument;

/**
 * A student group
 */
public class StudentGroup {
    private Integer id;
    private String name;
    private int schoolId;
    private int schoolYear;
    private int subjectId;
    private boolean active;
    private String creator;
    private Instant created;

    public Integer getId() {
        return id;
    }

    public void setId(final Integer id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public int getSchoolId() {
        return schoolId;
    }

    public int getSchoolYear() {
        return schoolYear;
    }

    public int getSubjectId() {
        return subjectId;
    }

    public boolean isActive() {
        return active;
    }

    public String getCreator() {
        return creator;
    }

    public Instant getCreated() {
        return created;
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder {
        private Integer id;
        private String name;
        private int schoolId;
        private int schoolYear;
        private int subjectId;
        private boolean active = true;
        private String creator;
        private Instant created;

        public StudentGroup build() {
            checkArgument(!StringUtils.isNullOrEmpty(name), "invalid name");
            final StudentGroup group = new StudentGroup();
            group.id = id;
            group.name = name;
            group.schoolId = schoolId;
            group.schoolYear = schoolYear;
            group.subjectId = subjectId;
            group.active = active;
            group.creator = creator;
            group.created = created == null ? Instant.now() : created;
            return group;
        }

        public Builder id(final Integer id) {
            this.id = id;
            return this;
        }

        public Builder name(final String name) {
            this.name = name;
            return this;
        }

        public Builder schoolId(final int schoolId) {
            this.schoolId = schoolId;
            return this;
        }

        public Builder schoolYear(final int schoolYear) {
            this.schoolYear = schoolYear;
            return this;
        }

        public Builder subjectId(final int subjectId) {
            this.subjectId = subjectId;
            return this;
        }

        public Builder active(final boolean active) {
            this.active = active;
            return this;
        }

        public Builder creator(final String creator) {
            this.creator = creator;
            return this;
        }

        public Builder created(final Instant created) {
            this.created = created;
            return this;
        }
    }
}
