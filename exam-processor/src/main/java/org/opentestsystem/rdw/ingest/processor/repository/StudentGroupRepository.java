package org.opentestsystem.rdw.ingest.processor.repository;

import org.opentestsystem.rdw.ingest.processor.model.StudentGroup;

import java.util.List;

/**
 * Repository for managing {@link StudentGroup}
 */
public interface StudentGroupRepository {

    /**
     * Save a new student group
     *
     * @param group group to save
     * @param importId id of the import that creates the {@link StudentGroup}
     * @return newly saved group (with id set)
     */
    StudentGroup create(StudentGroup group, long importId);

    /**
     * Lookup a group by name and school and year, returning the id.
     *
     * @param name group name
     * @param schoolId school id
     * @param schoolYear school year
     * @return the id of the group if found, otherwise null
     */
    Integer findIdByNameAndSchoolAndYear(String name, int schoolId, int schoolYear);

    /**
     * Add student to groups
     *
     * @param studentId student id
     * @param groupIds group ids
     */
    void addStudentToGroups(long studentId, List<Integer> groupIds);
}
