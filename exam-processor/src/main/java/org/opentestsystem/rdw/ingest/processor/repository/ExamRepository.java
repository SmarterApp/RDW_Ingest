package org.opentestsystem.rdw.ingest.processor.repository;

import org.opentestsystem.rdw.ingest.processor.model.Exam;

/**
 * Repository for managing {@link Exam}
 */
public interface ExamRepository {
    /**
     * Create a new exam or update an existing one
     *
     * @param exam     an exam to create or update
     * @param importId an id of the import that creates the {@link Exam}
     * @return the id of the newly created exam
     */
    long upsert(Exam exam, long importId);

    /**
     * Delete the exam created by the deleted import id.
     *
     * @param deletedImportId   The deleted import id
     * @param importId          The processing import id
     */
    void deleteByImportId(long deletedImportId, long importId);
}
